"use strict";(self.webpackChunkflink_demo=self.webpackChunkflink_demo||[]).push([[826],{3014:function(e,t,n){n.d(t,{b:function(){return a}});var a="http://unswdb.com:5000"},29396:function(e,t,n){var a=n(18489),s=n(74569),i=n.n(s),r=localStorage.getItem("token"),o=i().create({timeout:1e5,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});function l(){var e=new Date,t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t).getTime()}o.interceptors.request.use((function(e){return r&&(e.headers.Authorization=r),e.params=(0,a.Z)({timestamp:l()},e.params),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e):Promise.reject(e)}),(function(e){switch(e.response.status){case 400:e.response.message=e.response.data.message;break;case 401:e.response.message="Unauthorized(401)";break;case 403:e.response.message="Access Denied(403)";break;case 404:e.response.message="Request Error(404)";break;case 408:e.response.message="Request Timeout(408)";break;case 500:e.response.message="Server Error(500)";break;case 501:e.response.message="Service Not Implemented(501)";break;case 502:e.response.message="Network Error(502)";break;case 503:e.response.message="Service is not available(503)";break;case 504:e.response.message="Timeout(504)";break;case 505:e.response.message="HTTP does not support(505)";break;default:e.response.message="Connect error(".concat(e.response.status,")!")}return Promise.reject(e)})),t.Z=o},6763:function(e,t,n){n(28284);var a=n(78164),s=n(72791),i=n(91523),r=n(80184),o=function(e){return(0,r.jsxs)(a.Z,{style:{marginBottom:16},children:[(0,r.jsx)(a.Z.Item,{children:(0,r.jsx)(i.rU,{to:"/index",children:"index"})}),e.arr&&e.arr.map((function(e){return"object"===typeof e?(0,r.jsx)(a.Z.Item,{children:(0,r.jsx)(i.rU,{to:e.path,children:e.title})},e.path):(0,r.jsx)(a.Z.Item,{children:e},e)}))]})};function l(e,t){return e.arr.join()===t.arr.join()}t.Z=s.memo(o,l)},20158:function(e,t,n){var a=n(6763);t.Z=a.Z},62308:function(e,t,n){n(90224);var a=n(74649),s=void 0;t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{switch("Network Error"===e.response.message&&a.Z.error("\u8bf7\u6c42\u8d85\u65f6\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5!"),e.response.status){case 400:t=e.response.data.message;break;case 401:t="\u672a\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55(401)",s.props.history.push("/login");break;case 403:t="\u62d2\u7edd\u8bbf\u95ee(403)";break;case 404:t="\u8bf7\u6c42\u51fa\u9519(404)";break;case 408:t="\u8bf7\u6c42\u8d85\u65f6(408)";break;case 500:t="\u670d\u52a1\u5668\u9519\u8bef(500)";break;case 501:t="\u670d\u52a1\u672a\u5b9e\u73b0(501)";break;case 502:t="\u7f51\u7edc\u9519\u8bef(502)";break;case 503:t="\u670d\u52a1\u4e0d\u53ef\u7528(503)";break;case 504:t="\u7f51\u7edc\u8d85\u65f6(504)";break;case 505:t="HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301(505)";break;default:t="\u8fde\u63a5\u51fa\u9519(".concat(e.response.status,")!")}a.Z.error(t)}catch(n){a.Z.error(t)}}},81553:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});n(72753);var a=n(48262),s=(n(5819),n(64196)),i=(n(78308),n(94830)),r=(n(798),n(17631)),o=(n(90224),n(74649)),l=n(27853),c=n(84531),u=n(6148),d=n(78932),h=n(82625),m=(n(56885),n(66176)),p=n(72791),f=n(29396),g=n(3014),x=n(62308),Z=n(20158),v=n(80184),j=m.Z.Option,b=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).update_next=function(e){var t=a.state.users.filter((function(t){return t.name===e.name}));e.email=t[0].email,console.log(e);var n=new FormData;n.append("name",e.name),n.append("email",e.email),n.append("institution",e.institution),f.Z.put("".concat(g.b,"/user/next"),n,{}).then((function(e){o.Z.success(e.data.message),a.setState({visible:!1})})).catch((function(e){(0,x.Z)(e,e.response.data.message)}));var s=a.state.next;s.forEach((function(t){t.institution===e.institution&&(t.email=e.email,t.name=e.name)})),a.setState({next:s})},a.update_nnext=function(e){var t=a.state.users.filter((function(t){return t.name===e.name}));e.email=t[0].email;var n=new FormData;n.append("name",e.name),n.append("email",e.email),n.append("institution",e.institution),f.Z.put("".concat(g.b,"/user/nnext"),n,{}).then((function(e){o.Z.success(e.data.message),a.setState({visible:!1})})).catch((function(e){(0,x.Z)(e,e.response.data.message)}));var s=a.state.nnext;s.forEach((function(t){t.institution===e.institution&&(t.email=e.email,t.name=e.name)})),a.setState({nnext:s})},a.get_options=function(e){var t=a.state.users,n=[];return t.forEach((function(t){t.institution===e&&n.push((0,v.jsx)(j,{children:t.name},t.name))})),n},a.edit_next=function(e){var t=a.get_options(e.institution);console.log(e),r.Z.info({title:"Edit Next Week Presenter",content:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{marginTop:"2%"},children:[(0,v.jsx)("div",{children:"Name: "}),(0,v.jsx)(m.Z,{showSearch:!0,defaultValue:e.name,placeholder:"Student Name",onChange:function(t){e.name=t},style:{width:"100%"},children:t})]}),(0,v.jsxs)("div",{style:{marginTop:"3%"},children:[(0,v.jsx)("div",{children:"Institution"}),(0,v.jsx)(i.Z,{defaultValue:e.institution,placeholder:"Institution",disabled:!0})]}),(0,v.jsx)(s.Z,{type:"primary",style:{marginTop:"2%",textAlign:"center",width:"100%"},onClick:a.update_next.bind((0,u.Z)(a),e),children:"Update"})]}),okText:"Cancel"})},a.edit_nnext=function(e){var t=a.get_options(e.institution);console.log(e),r.Z.info({title:"Edit Next Week Presenter",content:(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{marginTop:"2%"},children:[(0,v.jsx)("div",{children:"Name: "}),(0,v.jsx)(m.Z,{showSearch:!0,defaultValue:e.name,placeholder:"Student Name",onChange:function(t){e.name=t},style:{width:"100%"},children:t})]}),(0,v.jsxs)("div",{style:{marginTop:"3%"},children:[(0,v.jsx)("div",{children:"Institution"}),(0,v.jsx)(i.Z,{defaultValue:e.institution,placeholder:"Institution",disabled:!0})]}),(0,v.jsx)(s.Z,{type:"primary",style:{marginTop:"2%",textAlign:"center",width:"100%"},onClick:a.update_nnext.bind((0,u.Z)(a),e),children:"Update"})]}),okText:"Cancel"})},a.state={next:[],nnext:[],users:[]},a}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this;f.Z.get("".concat(g.b,"/user/next"),{}).then((function(t){e.setState({next:t.data.data})})).catch((function(e){(0,x.Z)(e,e.response.data.message)})),f.Z.get("".concat(g.b,"/user/nnext"),{}).then((function(t){e.setState({nnext:t.data.data})})).catch((function(e){(0,x.Z)(e,e.response.data.message)})),f.Z.get("".concat(g.b,"/user/get-user-info"),{}).then((function(t){e.setState({users:t.data.users})})).catch((function(e){(0,x.Z)(e,e.response.data.message)}))}},{key:"render",value:function(){var e=this,t=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Institution",dataIndex:"institution",key:"institution"},{title:"Date",dataIndex:"present",key:"present"},{title:"Action",key:"action",render:function(t,n){return(0,v.jsx)("span",{children:(0,v.jsx)(s.Z,{onClick:e.edit_next.bind(e,n),type:"primary",icon:"edit",size:"small",children:"Edit"})})}}],n=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Institution",dataIndex:"institution",key:"institution"},{title:"Date",dataIndex:"present",key:"present"},{title:"Action",key:"action",render:function(t,n){return(0,v.jsx)("span",{children:(0,v.jsx)(s.Z,{onClick:e.edit_nnext.bind(e,n),type:"primary",icon:"edit",size:"small",children:"Edit"})})}}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(Z.Z,{arr:["manage"]}),(0,v.jsxs)("div",{style:{margin:"3%"},children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{style:{marginBottom:"2%"},children:"Next Week"}),(0,v.jsx)(a.Z,{columns:t,dataSource:this.state.next,pagination:{pageSize:100},scroll:{y:340}})]}),(0,v.jsxs)("div",{style:{marginTop:"5%"},children:[(0,v.jsx)("h3",{style:{marginBottom:"2%"},children:"Next Next Week"}),(0,v.jsx)(a.Z,{columns:n,dataSource:this.state.nnext,pagination:{pageSize:100},scroll:{y:340}})]})]})]})}}]),n}(p.Component)},69300:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(18489),s=(n(5819),n(64196)),i=(n(79957),n(35891)),r=(n(90224),n(74649)),o=n(27853),l=n(84531),c=n(78932),u=n(82625),d=(n(56885),n(66176)),h=(n(2442),n(89872)),m=n(72791),p=n(29396),f=n(72426),g=n.n(f),x=n(3014),Z=n(62308),v=n(20158),j=n(80184),b=h.Z.RangePicker,y=d.Z.Option,k="MM/DD/YYYY";Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var S={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},C=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){var a;return(0,o.Z)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){console.log("Received values of form: ",t);var n=new FormData;n.append("nstudents",t.next.join(",")),n.append("nnstudents",t.nnext.join(",")),n.append("ndate",a.state.date[0]),n.append("nndate",a.state.date[1]),p.Z.post("".concat(x.b,"/user/send"),n,{}).then((function(e){r.Z.success(e.data.message)})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}))}}))},a.onFinishFailed=function(e){console.log("Failed:",e)},a.dateChange=function(e,t){a.setState({date:t})},a.state={children:[],date:[],next_student:[],range_date:[]},a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){var e=this;p.Z.get("".concat(x.b,"/user/get-user"),{}),p.Z.get("".concat(x.b,"/user/get-user"),{}).then((function(t){var n=[];t.data.names.forEach((function(e){n.push((0,j.jsx)(y,{children:e},e))})),e.setState({children:n})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)})),p.Z.get("".concat(x.b,"/user/nnext"),{}).then((function(t){var n=[],a="";t.data.data.forEach((function(e){n.push(e.name),a=e.present}));var s=t.data.next,i=[g()(s,k),g()(a,k)];e.setState({next_student:n,range_date:i,date:[s,a]})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.children;return(0,j.jsxs)("div",{className:"content",children:[(0,j.jsx)("div",{children:(0,j.jsx)(v.Z,{arr:["mail"]})}),(0,j.jsxs)(i.Z,(0,a.Z)((0,a.Z)({name:"basic",labelCol:{span:24},wrapperCol:{span:16}},S),{},{onSubmit:this.handleSubmit,children:[(0,j.jsx)(i.Z.Item,{label:"Next Week",name:"next",children:e("next",{rules:[{required:!0,message:"Please select next week presenters"}],initialValue:this.state.next_student})((0,j.jsx)(d.Z,{mode:"multiple",placeholder:"Please select next week presenters",onChange:this.handleChange,style:{width:"450px"},children:t}))}),(0,j.jsx)(i.Z.Item,{label:"Next Next Week",name:"nnext",children:e("nnext",{rules:[{required:!0,message:"Please select next next week presenters"}]})((0,j.jsx)(d.Z,{mode:"multiple",placeholder:"Please select next next week presenters",onChange:this.handleChange,style:{width:"450px"},children:t}))}),(0,j.jsx)(i.Z.Item,{label:"Present Date",name:"time",children:e("time",{rules:[{required:!0,message:"Please select present date"}],initialValue:this.state.range_date})((0,j.jsx)(b,{format:"MM/DD/YYYY",style:{width:"450px"},onChange:this.dateChange}))}),(0,j.jsx)(i.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,j.jsx)(s.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]}))]})}}]),n}(m.Component),w=i.Z.create()(C)},42666:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});n(72753);var a=n(48262),s=(n(1405),n(91333)),i=(n(5819),n(64196)),r=(n(78308),n(94830)),o=(n(90224),n(74649)),l=n(27853),c=n(84531),u=n(6148),d=n(78932),h=n(82625),m=(n(56885),n(66176)),p=(n(798),n(17631)),f=n(72791),g=n(29396),x=n(3014),Z=n(62308),v=n(20158),j=n(80184),b=p.Z.confirm,y=m.Z.Option,k=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var a;return(0,l.Z)(this,n),(a=t.call(this,e)).handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.clearFilters=function(){a.setState({filteredInfo:null})},a.clearAll=function(){a.setState({filteredInfo:null,sortedInfo:null})},a.delete_user=function(e){console.log(e),b({title:"Do you want to delete the user: ".concat(e.name," ?"),content:"When clicked the OK button, the user will be deleted",onOk:function(){var t=this,n=new FormData;n.append("name",e.name),g.Z.post("".concat(x.b,"/user/delete"),n,{}).then((function(n){console.log(n.data),o.Z.success(n.data.message);var a=t.state.data;a.filter((function(t){return t.name!==e.name})),t.setState({data:a})})).catch((function(e){console.log(e),(0,Z.Z)(e,e.response.data.message)}))},onCancel:function(){}})},a.update_user_info=function(e){if(console.log(e),null!==e.name&&null!==e.email&&null!==e.institution){var t=new FormData;t.append("name",e.name),t.append("email",e.email),t.append("institution",e.institution),g.Z.put("".concat(x.b,"/user/edit"),t,{}).then((function(e){o.Z.success(e.data.message),a.setState({visible:!1})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}));var n=a.state.data;n.forEach((function(t){t.name===e.name&&(t.email=e.email)})),a.setState({data:n})}else o.Z.error("User information incomplete!")},a.edit_user=function(e){console.log(e),p.Z.info({title:"Edit User Information",content:(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{marginTop:"2%"},children:[(0,j.jsx)("div",{children:"Name: "}),(0,j.jsx)(r.Z,{defaultValue:e.name,placeholder:"Student Name",onChange:function(t){e.name=t.currentTarget.value},disabled:!0})]}),(0,j.jsxs)("div",{style:{marginTop:"3%"},children:[(0,j.jsx)("div",{children:"Email: "}),(0,j.jsx)(r.Z,{defaultValue:e.email,placeholder:"Student Email",onChange:function(t){e.email=t.currentTarget.value}})]}),(0,j.jsxs)("div",{style:{marginTop:"3%"},children:[(0,j.jsx)("div",{children:"Institution"}),(0,j.jsx)(r.Z,{defaultValue:e.institution,placeholder:"Institution",disabled:!0})]}),(0,j.jsx)(i.Z,{type:"primary",style:{marginTop:"2%",textAlign:"center",width:"100%"},onClick:a.update_user_info.bind((0,u.Z)(a),e),children:"Update"})]}),okText:"Cancel"})},a.add_user=function(){a.setState({visible:!0})},a.confirm_add_user=function(e){var t=a.state.user;if(""!==t.name&&""!==t.email&&""!==t.institution){var n=new FormData;n.append("name",t.name),n.append("email",t.email),n.append("institution",t.institution),g.Z.post("".concat(x.b,"/user/edit"),n,{}).then((function(e){o.Z.success(e.data.message),a.setState({visible:!1}),p.Z.destroyAll();var n=a.state.data;n.push(t),a.setState({data:n});a.setState({user:{name:"",email:"",institution:"SYD"}})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}))}else o.Z.error("User information incomplete!")},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.institution_change=function(e){var t=a.state.user;t.institution=e,a.setState({user:t})},a.email_change=function(e){var t=a.state.user;t.email=e.target.value,a.setState({user:t})},a.name_change=function(e){var t=a.state.user;t.name=e.target.value,a.setState({user:t})},a.state={filteredInfo:null,sortedInfo:null,data:[],visible:!1,user:{name:"",email:"",institution:"SYD"}},a}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var e=this;g.Z.get("".concat(x.b,"/user/get-user-info"),{}).then((function(t){e.setState({data:t.data.users})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.sortedInfo,o=t.filteredInfo;o=o||{};var l=[{title:"Name",dataIndex:"name",key:"name",sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===(n=n||{}).columnKey&&n.order,ellipsis:!0},{title:"Email",dataIndex:"email",key:"email"},{title:"Institution",dataIndex:"institution",key:"institution",filters:[{text:"SYD",value:"SYD"},{text:"ZJ",value:"ZJ"},{text:"GZ",value:"GZ"},{text:"SH",value:"SH"}],filteredValue:o.institution||null,onFilter:function(e,t){return t.institution.includes(e)},sorter:function(e,t){return e.institution.length-t.institution.length},sortOrder:"institution"===n.columnKey&&n.order,ellipsis:!0},{title:"Action",key:"action",render:function(t,n){return(0,j.jsxs)("span",{children:[(0,j.jsx)(i.Z,{onClick:e.delete_user.bind(e,n),type:"danger",icon:"delete",size:"small",children:"Delete"}),(0,j.jsx)(s.Z,{type:"vertical"}),(0,j.jsx)(i.Z,{onClick:e.edit_user.bind(e,n),type:"primary",icon:"edit",size:"small",children:"Edit"})]})}}];return(0,j.jsxs)("div",{children:[(0,j.jsx)(v.Z,{arr:["manage"]}),(0,j.jsxs)(p.Z,{title:"Add User",visible:this.state.visible,onOk:this.confirm_add_user,onCancel:this.handleCancel,children:[(0,j.jsx)(r.Z,{className:"add-user",value:this.state.user.name,placeholder:"Student Name",onChange:this.name_change}),(0,j.jsx)(r.Z,{className:"add-user",value:this.state.user.email,placeholder:"Student Email",onChange:this.email_change}),(0,j.jsxs)(m.Z,{className:"add-user",defaultValue:"SYD",onChange:this.institution_change,children:[(0,j.jsx)(y,{value:"SYD",children:"SYD"}),(0,j.jsx)(y,{value:"ZJ",children:"ZJ"}),(0,j.jsx)(y,{value:"SH",children:"SH"}),(0,j.jsx)(y,{value:"GZ",children:"GZ"})]})]}),(0,j.jsxs)("div",{style:{margin:"3%"},children:[(0,j.jsxs)("div",{className:"table-operations",children:[(0,j.jsx)(i.Z,{onClick:this.add_user,children:"Add"}),(0,j.jsx)(i.Z,{onClick:this.clearAll,children:"Clear filters"})]}),(0,j.jsx)(a.Z,{columns:l,dataSource:this.state.data,onChange:this.handleChange,pagination:{pageSize:100},scroll:{y:540}})]})]})}}]),n}(f.Component),S=k},97999:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(798);var a=n(17631),s=(n(5819),n(64196)),i=(n(66420),n(74486)),r=n(35531),o=(n(90224),n(74649)),l=n(18489),c=n(27853),u=n(84531),d=n(78932),h=n(82625),m=(n(7647),n(40229)),p=(n(56885),n(66176)),f=n(72791),g=n(29396),x=n(3014),Z=n(62308),v=n(20158),j=n(64713),b=n(80184),y=p.Z.Option,k=m.Z.Dragger,S=function(e){(0,d.Z)(n,e);var t=(0,h.Z)(n);function n(e){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).showScore=function(){g.Z.get("".concat(x.b,"/user/marking"),{}).then((function(e){var t=[];e.data.data.forEach((function(e){t.push({name:e.name,score:Math.round(100*e.score)/100})}));var n=(0,l.Z)({},a.state.config);n.data=t,a.setState({config:n})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)}))},a.showModal=function(){a.setState({visible:!0})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.selectStudent=function(e){a.setState({student:e})},a.submitMarking=function(){var e=a.state,t=e.student,n=e.files;if(null!==t&&""!==t)if(0!==n.length){var s=new FormData;s.append("name",t),n.forEach((function(e){s.append("file",e)})),g.Z.post("".concat(x.b,"/user/marking"),s,{}).then((function(e){o.Z.success("Upload Success");var t=a.state.MainProps;t.defaultFileList=[],a.setState({MainProps:t}),a.setState({student:"",files:[]})})).catch((function(e){(0,Z.Z)(e,"Error")}))}else o.Z.error("You need upload at least one file");else o.Z.error("You need to select student")},a.state={visible:!1,users:[],options:[],files:[],student:"",MainProps:{listType:"picture",defaultFileList:[],multiple:!0,onRemove:function(e){a.setState((function(t){var n=t.files.indexOf(e),a=t.files.slice();return a.splice(n,1),{files:a}}))},beforeUpload:function(e){return a.setState((function(t){return{files:[].concat((0,r.Z)(t.files),[e])}})),!1}},config:{data:[],xField:"name",yField:"score",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!1,autoRotate:!0}},meta:{name:{alias:"name"},number:{alias:"score"}}}},a}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this;g.Z.get("".concat(x.b,"/user/get-user-info"),{}).then((function(t){e.setState({users:t.data.users});var n=[];t.data.users.forEach((function(e){n.push((0,b.jsx)(y,{children:e.name},e.name))})),e.setState({options:n})})).catch((function(e){(0,Z.Z)(e,e.response.data.message)})),this.showScore()}},{key:"render",value:function(){var e=this.state.MainProps;return(0,b.jsxs)("div",{children:[(0,b.jsx)(v.Z,{arr:["manage"]}),(0,b.jsxs)(a.Z,{title:"Upload Marking",visible:this.state.visible,onCancel:this.handleCancel,footer:[],children:[(0,b.jsx)("div",{children:"Name: "}),(0,b.jsx)(p.Z,{showSearch:!0,placeholder:"Student Name",value:this.state.student,onChange:this.selectStudent,style:{width:"100%"},children:this.state.options}),(0,b.jsxs)("div",{style:{marginTop:"3%"},children:[(0,b.jsx)("div",{children:"File: "}),(0,b.jsx)("div",{children:(0,b.jsxs)(k,(0,l.Z)((0,l.Z)({},e),{},{children:[(0,b.jsx)("p",{className:"ant-upload-drag-icon",children:(0,b.jsx)(i.Z,{type:"inbox"})}),(0,b.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,b.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))})]}),(0,b.jsx)("div",{style:{marginTop:"3%"},children:(0,b.jsx)(s.Z,{style:{width:"100%"},onClick:this.submitMarking,children:"Submit"})})]}),(0,b.jsx)("div",{style:{margin:"3%"},children:(0,b.jsx)("div",{className:"table-operations",children:(0,b.jsx)(s.Z,{onClick:this.showModal,children:"Upload Marking"})})}),(0,b.jsx)("div",{style:{width:"90%",marginTop:"5%",margin:"auto",top:2,bottom:0,left:0,right:0},children:(0,b.jsx)(j.Z,(0,l.Z)((0,l.Z)({},this.state.config),{},{style:{marginTop:"5%"}}))})]})}}]),n}(f.Component),C=S},27559:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});n(79957);var a=n(35891),s=(n(5819),n(64196)),i=(n(90224),n(74649)),r=n(27853),o=n(84531),l=n(78932),c=n(82625),u=(n(56885),n(66176)),d=n(72791),h=n(29396),m=n(3014),p=n(62308),f=n(6763),g=n(80184),x=u.Z.Option,Z=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).handleSizeChange=function(e){a.setState({current:e})},a.sendMail=function(){var e=new FormData;e.append("student",a.state.current.join(",")),h.Z.post("".concat(m.b,"/user/notice"),e,{}).then((function(e){i.Z.success(e.data.message)})).catch((function(e){(0,p.Z)(e,e.response.data.message)}))},a.state={children:[],current:[]},a}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){var e=this;h.Z.get("".concat(m.b,"/user/get-user"),{}).then((function(t){var n=[];t.data.names.forEach((function(e){n.push((0,g.jsx)(x,{children:e},e))})),e.setState({children:n})})).catch((function(e){(0,p.Z)(e,e.response.data.message)})),h.Z.get("".concat(m.b,"/user/current"),{}).then((function(t){e.setState({current:t.data.names})})).catch((function(e){(0,p.Z)(e,e.response.data.message)}))}},{key:"render",value:function(){var e=this.state,t=e.current,n=e.children;return(0,g.jsxs)("div",{children:[(0,g.jsx)(f.Z,{arr:["send notice"]}),(0,g.jsxs)("div",{style:{width:"90%",marginTop:"5%",margin:"auto",top:2,bottom:0,left:0,right:0},children:[(0,g.jsx)(u.Z,{mode:"multiple",placeholder:"Please select",value:t,size:"large",onChange:this.handleSizeChange,style:{width:"50%",marginLeft:"15%"},children:n}),(0,g.jsx)("div",{style:{marginLeft:"15%",marginTop:"2%"},children:(0,g.jsxs)(s.Z,{type:"primary",onClick:this.sendMail,children:[" ","Submit"]})})]})]})}}]),n}(d.Component),v=a.Z.create()(Z)},58987:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(18489),s=n(27853),i=n(84531),r=n(78932),o=n(82625),l=n(72791),c=n(64713),u=n(29396),d=n(3014),h=n(62308),m=n(6763),p=n(80184),f=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(e){var a;return(0,s.Z)(this,n),(a=t.call(this,e)).state={config:{data:[],xField:"name",yField:"number",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!1,autoRotate:!0}},meta:{name:{alias:"name"},number:{alias:"number"}}}},a}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this;u.Z.get("".concat(d.b,"/user/history"),{}).then((function(t){var n=[];t.data.data.forEach((function(e){n.push({name:e.name,number:e.number})}));var s=(0,a.Z)({},e.state.config);s.data=n,e.setState({config:s}),console.log(e.state.config)})).catch((function(e){(0,h.Z)(e,e.response.data.message)}))}},{key:"render",value:function(){return(0,p.jsxs)("div",{children:[(0,p.jsx)(m.Z,{arr:["result"]}),(0,p.jsx)("div",{style:{width:"90%",marginTop:"5%",margin:"auto",top:2,bottom:0,left:0,right:0},children:(0,p.jsx)(c.Z,(0,a.Z)((0,a.Z)({},this.state.config),{},{style:{marginTop:"5%"}}))})]})}}]),n}(l.Component),g=f}}]);
//# sourceMappingURL=index.1e0ebc10.chunk.js.map